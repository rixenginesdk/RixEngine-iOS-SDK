;(function(omidGlobal,factory,exports){if(typeof exports==='object'&&typeof exports.nodeName!=='string'){factory(omidGlobal,exports)}else{var exports={};var versions=['1.5.7-dev'];var additionalVersionString='default';if(!!additionalVersionString){versions.push(additionalVersionString)}factory(omidGlobal,exports);function deepFreeze(object){for(var key in object){if(object.hasOwnProperty(key)){object[key]=deepFreeze(object[key])}}return Object.freeze(object)}for(var key in exports){if(exports.hasOwnProperty(key)){if(Object.getOwnPropertyDescriptor(omidGlobal,key)==null){Object.defineProperty(omidGlobal,key,{value:{},})}versions.forEach(function(version){if(Object.getOwnPropertyDescriptor(omidGlobal[key],version)==null){var frozenObject=deepFreeze(exports[key]);Object.defineProperty(omidGlobal[key],version,{get:function(){return frozenObject},enumerable:true,})}})}}}}(typeof global==='undefined'?this:global,function(omidGlobal,omidExports){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++],}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b){return b.call(a)}if("number"==typeof a.length){return $jscomp.arrayIterator(a)}throw Error(String(a)+" is not an iterable or ArrayLike");};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;){c.push(b.value)}return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b()};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype){return a}a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math){return c}}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b,c){if(!c||null!=a){c=$jscomp.propertyToPolyfillSymbol[b];if(null==c){return a[b]}c=a[c];return void 0!==c?c:a[b]}};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c)){return}c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d)){return}d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.getConstructImplementation=function(){function a(){function c(){}new c();Reflect.construct(c,[],function(){});return new c()instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a()){return Reflect.construct}var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+" is not extensible");}return a}:null;$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else{for(c in b){if("prototype"!=c){if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else{a[c]=b[c]}}}}a.superClass_=b.prototype};$jscomp.getRestArguments=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++){b[c-a]=arguments[c]}return b};$jscomp.polyfill("Reflect",function(a){return a?a:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(a){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(a){if(a){return a}if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;return function(c,d){try{return b(c,d),!0}catch(e){return!1}}}return null},"es6","es5");$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a){return a}var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e){throw new TypeError("Symbol is not a constructor");}return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");$jscomp.polyfill("Symbol.iterator",function(a){if(a){return a}a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b){$jscomp.owns(b,d)&&c.push(b[d])}return c}},"es8","es3");var module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(a,b,c,d){this.guid=a;this.method=b;this.version=c;this.args=d};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(a){return!!a&&void 0!==a[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==a[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==a[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"===typeof a[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"===typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"===typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===a[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==a[module$contents$omid$common$InternalMessage_ARGS_KEY])};module$exports$omid$common$InternalMessage.deserialize=function(a){return new module$exports$omid$common$InternalMessage(a[module$contents$omid$common$InternalMessage_GUID_KEY],a[module$contents$omid$common$InternalMessage_METHOD_KEY],a[module$contents$omid$common$InternalMessage_VERSION_KEY],a[module$contents$omid$common$InternalMessage_ARGS_KEY])};module$exports$omid$common$InternalMessage.prototype.serialize=function(){var a={};a=(a[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,a[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,a[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,a);void 0!==this.args&&(a[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args);return a};var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange",},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other",},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media",},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript",},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none",},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native",},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited",},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked",},Environment:{APP:"app",WEB:"web",},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other",},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept",},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio",},MediaType:{DISPLAY:"display",VIDEO:"video",},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice",},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid",},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone",},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen",},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus",},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative",},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element",},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE",},OmidImplementer:{OMSDK:"omsdk",},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow",}};var module$exports$omid$common$Communication=function(a){this.to=a;this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(a,b){};module$exports$omid$common$Communication.prototype.handleMessage=function(a,b){if(this.onMessage){this.onMessage(a,b)}};module$exports$omid$common$Communication.prototype.serialize=function(a){return JSON.stringify(a)};module$exports$omid$common$Communication.prototype.deserialize=function(a){return JSON.parse(a)};module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT};module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$argsChecker={};function module$contents$omid$common$argsChecker_assertTruthyString(a,b){if(!b){throw Error("Value for "+a+" is undefined, null or blank.");}if("string"!==typeof b&&!(b instanceof String)){throw Error("Value for "+a+" is not a string.");}if(""===b.trim()){throw Error("Value for "+a+" is empty string.");}}function module$contents$omid$common$argsChecker_assertNotNullObject(a,b){if(null==b){throw Error("Value for "+a+" is undefined or null");}}function module$contents$omid$common$argsChecker_assertNumber(a,b){if(null==b){throw Error(a+" must not be null or undefined.");}if("number"!==typeof b||isNaN(b)){throw Error("Value for "+a+" is not a number");}}function module$contents$omid$common$argsChecker_assertNumberBetween(a,b,c,d){module$contents$omid$common$argsChecker_assertNumber(a,b);if(b<c||b>d){throw Error("Value for "+a+" is outside the range ["+c+","+d+"]");}}function module$contents$omid$common$argsChecker_assertFunction(a,b){if(!b){throw Error(a+" must not be truthy.");}}function module$contents$omid$common$argsChecker_assertPositiveNumber(a,b){module$contents$omid$common$argsChecker_assertNumber(a,b);if(0>b){throw Error(a+" must be a positive number.");}}module$exports$omid$common$argsChecker.assertTruthyString=module$contents$omid$common$argsChecker_assertTruthyString;module$exports$omid$common$argsChecker.assertNotNullObject=module$contents$omid$common$argsChecker_assertNotNullObject;module$exports$omid$common$argsChecker.assertNumber=module$contents$omid$common$argsChecker_assertNumber;module$exports$omid$common$argsChecker.assertNumberBetween=module$contents$omid$common$argsChecker_assertNumberBetween;module$exports$omid$common$argsChecker.assertFunction=module$contents$omid$common$argsChecker_assertFunction;module$exports$omid$common$argsChecker.assertPositiveNumber=module$contents$omid$common$argsChecker_assertPositiveNumber;var module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return"undefined"===typeof omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(a,b){return a&&(a[b]||(a[b]={}))}function module$contents$omid$common$exporter_packageExport(a,b,c){if(c=void 0===c?module$contents$omid$common$exporter_getOmidExports():c){a=a.split("."),a.slice(0,a.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,c)[a[a.length-1]]=b}}module$exports$omid$common$exporter.packageExport=module$contents$omid$common$exporter_packageExport;var module$exports$omid$sessionClient$Partner=function(a,b){module$contents$omid$common$argsChecker_assertTruthyString("Partner.name",a);module$contents$omid$common$argsChecker_assertTruthyString("Partner.version",b);this.name=a;this.version=b};module$contents$omid$common$exporter_packageExport("OmidSessionClient.Partner",module$exports$omid$sessionClient$Partner);var module$exports$omid$sessionClient$VerificationScriptResource=function(a,b,c,d){d=void 0===d?module$exports$omid$common$constants.AccessMode.FULL:d;module$contents$omid$common$argsChecker_assertTruthyString("VerificationScriptResource.resourceUrl",a);this.resourceUrl=a;this.vendorKey=b;this.verificationParameters=c;this.accessMode=d};module$exports$omid$sessionClient$VerificationScriptResource.prototype.toJSON=function(){return{accessMode:this.accessMode,resourceUrl:this.resourceUrl,vendorKey:this.vendorKey,verificationParameters:this.verificationParameters,}};module$contents$omid$common$exporter_packageExport("OmidSessionClient.VerificationScriptResource",module$exports$omid$sessionClient$VerificationScriptResource);var module$exports$omid$sessionClient$UniversalAdId=function(a,b){module$contents$omid$common$argsChecker_assertTruthyString("UniversalAdId.value",a);module$contents$omid$common$argsChecker_assertTruthyString("UniversalAdId.idRegistry",b);this.value=a;this.idRegistry=b};module$exports$omid$sessionClient$UniversalAdId.prototype.toSerialisedValue=function(){return this.value+"; "+this.idRegistry};module$contents$omid$common$exporter_packageExport("OmidSessionClient.UniversalAdId",module$exports$omid$sessionClient$UniversalAdId);var module$exports$omid$sessionClient$Context=function(a,b,c,d,e){c=void 0===c?null:c;d=void 0===d?null:d;e=void 0===e?null:e;module$contents$omid$common$argsChecker_assertNotNullObject("Context.partner",a);this.partner=a;this.verificationScriptResources=b;this.videoElement=this.slotElement=null;this.contentUrl=c;this.customReferenceData=d;this.underEvaluation=!1;this.serviceWindow=null;this.universalAdId=e};module$exports$omid$sessionClient$Context.prototype.setVideoElement=function(a){module$contents$omid$common$argsChecker_assertNotNullObject("Context.videoElement",a);this.videoElement=a};module$exports$omid$sessionClient$Context.prototype.setSlotElement=function(a){module$contents$omid$common$argsChecker_assertNotNullObject("Context.slotElement",a);this.slotElement=a};module$exports$omid$sessionClient$Context.prototype.setServiceWindow=function(a){module$contents$omid$common$argsChecker_assertNotNullObject("Context.serviceWindow",a);this.serviceWindow=a};module$contents$omid$common$exporter_packageExport("OmidSessionClient.Context",module$exports$omid$sessionClient$Context);var module$exports$omid$common$OmidGlobalProvider={};function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if("undefined"!==typeof omidGlobal&&omidGlobal){return omidGlobal}if("undefined"!==typeof global&&global){return global}if("undefined"!==typeof window&&window){return window}if("undefined"!==typeof globalThis&&globalThis){return globalThis}var a=Function("return this")();if(a){return a}throw Error("Could not determine global object context.");}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys={ROOT:"omidSessionInterface",AD_EVENTS:"adEvents",MEDIA_EVENTS:"mediaEvents",},module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap={sessionError:"reportError",},module$contents$omid$sessionClient$OmidJsSessionInterface_MediaEventMethodNames=Object.keys(module$exports$omid$common$constants.MediaEventType).map(function(a){return module$exports$omid$common$constants.MediaEventType[a]}),module$contents$omid$sessionClient$OmidJsSessionInterface_AdEventMethodNames=["impressionOccurred",],module$exports$omid$sessionClient$OmidJsSessionInterface=function(a){a=void 0===a?module$exports$omid$common$OmidGlobalProvider.omidGlobal:a;this.interfaceRoot_=a[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.ROOT]};module$exports$omid$sessionClient$OmidJsSessionInterface.prototype.isSupported=function(){return null!=this.interfaceRoot_};module$exports$omid$sessionClient$OmidJsSessionInterface.prototype.sendMessage=function(a,b,c){"registerSessionObserver"==a&&(c=[b]);module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap[a]&&(a=module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap[a]);b=this.interfaceRoot_;0<=module$contents$omid$sessionClient$OmidJsSessionInterface_AdEventMethodNames.indexOf(a)&&(b=b[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.AD_EVENTS]);0<=module$contents$omid$sessionClient$OmidJsSessionInterface_MediaEventMethodNames.indexOf(a)&&(b=b[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.MEDIA_EVENTS]);b=b[a];if(!b){throw Error("Unrecognized method name: "+a+".");}b.apply(null,$jscomp.arrayFromIterable(c))};var module$exports$omid$common$Rectangle=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};var module$exports$omid$common$guid={};function module$contents$omid$common$guid_generateGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;a="y"===a?(b&3|8).toString(16):b.toString(16);return a})}module$exports$omid$common$guid.generateGuid=module$contents$omid$common$guid_generateGuid;var module$exports$omid$common$logger={};function module$contents$omid$common$logger_error(){var a=$jscomp.getRestArguments.apply(0,arguments);module$contents$omid$common$logger_executeLog(function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(a))))();},function(){return console.error.apply(console,$jscomp.arrayFromIterable(a))})}function module$contents$omid$common$logger_debug(){var a=$jscomp.getRestArguments.apply(0,arguments);module$contents$omid$common$logger_executeLog(function(){},function(){return console.error.apply(console,$jscomp.arrayFromIterable(a))})}function module$contents$omid$common$logger_executeLog(a,b){"undefined"!==typeof jasmine&&jasmine?a():"undefined"!==typeof console&&console&&console.error&&b()}module$exports$omid$common$logger.error=module$contents$omid$common$logger_error;module$exports$omid$common$logger.debug=module$contents$omid$common$logger_debug;var module$exports$omid$common$eventTypedefs={};var module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.5.7-dev"};var module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;function module$contents$omid$common$VersionUtils_isValidVersion(a){return/\d+\.\d+\.\d+(-.*)?/.test(a)}function module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a,b){a=a.split("-")[0].split(".");b=b.split("-")[0].split(".");for(var c=0;c<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(d>e){break}else if(d<e){return!1}}return!0}module$exports$omid$common$VersionUtils.isValidVersion=module$contents$omid$common$VersionUtils_isValidVersion;module$exports$omid$common$VersionUtils.versionGreaterOrEqual=module$contents$omid$common$VersionUtils_versionGreaterOrEqual;var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";function module$contents$omid$common$ArgsSerDe_serializeMessageArgs(a,b){return module$contents$omid$common$VersionUtils_isValidVersion(a)&&module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?b:JSON.stringify(b)}function module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(a,b){return module$contents$omid$common$VersionUtils_isValidVersion(a)&&module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?b?b:[]:b&&"string"===typeof b?JSON.parse(b):[]}module$exports$omid$common$ArgsSerDe.serializeMessageArgs=module$contents$omid$common$ArgsSerDe_serializeMessageArgs;module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=module$contents$omid$common$ArgsSerDe_deserializeMessageArgs;var module$exports$omid$common$serviceMethodUtils={},module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService.",};function module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(a){return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a){return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod(a){return null!=module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a)}function module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(a){return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a){return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod(a){return null!=module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a)}function module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a,b){return b+a}function module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a,b){return(a=a.match(new RegExp("^"+b+"(.*)")))&&a[1]}module$exports$omid$common$serviceMethodUtils.getPrefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod;module$exports$omid$common$serviceMethodUtils.getPrefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod;module$exports$omid$common$serviceMethodUtils.getUnprefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod;module$exports$omid$common$serviceMethodUtils.getUnprefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod;module$exports$omid$common$serviceMethodUtils.isPrefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod;module$exports$omid$common$serviceMethodUtils.isPrefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod;var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(a){return null!=a&&"undefined"!==typeof a.top&&null!=a.top}function module$contents$omid$common$windowUtils_isCrossOrigin(a){if(a===module$exports$omid$common$OmidGlobalProvider.omidGlobal){return!1}try{if("undefined"===typeof a.location.hostname){return!0}module$contents$omid$common$windowUtils_isSameOriginForIE(a)}catch(b){return!0}return!1}function module$contents$omid$common$windowUtils_isSameOriginForIE(a){return""===a.x||""!==a.x}function module$contents$omid$common$windowUtils_resolveGlobalContext(a){"undefined"===typeof a&&"undefined"!==typeof window&&window&&(a=window);return module$contents$omid$common$windowUtils_isValidWindow(a)?a:module$exports$omid$common$OmidGlobalProvider.omidGlobal}function module$contents$omid$common$windowUtils_resolveTopWindowContext(a){return module$contents$omid$common$windowUtils_isValidWindow(a)?a.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal}function module$contents$omid$common$windowUtils_isTopWindowAccessible(a){try{return a.top.location.href?!0:!1}catch(b){return!1}}function module$contents$omid$common$windowUtils_removeDomElements(a){a.type===module$exports$omid$common$constants.AdEventType.SESSION_START&&("undefined"!==typeof a.data.context.videoElement&&(a.data.context.videoElement="Video Element ("+a.data.context.videoElement.id+")"),"undefined"!==typeof a.data.context.slotElement&&(a.data.context.slotElement="Slot Element ("+a.data.context.slotElement.id+")"));return a}function module$contents$omid$common$windowUtils_evaluatePageUrl(a){if(!module$contents$omid$common$windowUtils_isValidWindow(a)){return null}try{var b=a.top;return module$contents$omid$common$windowUtils_isCrossOrigin(b)?null:b.location.href}catch(c){return null}}module$exports$omid$common$windowUtils.evaluatePageUrl=module$contents$omid$common$windowUtils_evaluatePageUrl;module$exports$omid$common$windowUtils.isCrossOrigin=module$contents$omid$common$windowUtils_isCrossOrigin;module$exports$omid$common$windowUtils.removeDomElements=module$contents$omid$common$windowUtils_removeDomElements;module$exports$omid$common$windowUtils.resolveGlobalContext=module$contents$omid$common$windowUtils_resolveGlobalContext;module$exports$omid$common$windowUtils.resolveTopWindowContext=module$contents$omid$common$windowUtils_resolveTopWindowContext;module$exports$omid$common$windowUtils.isTopWindowAccessible=module$contents$omid$common$windowUtils_isTopWindowAccessible;var module$exports$omid$common$DirectCommunication=function(a){module$exports$omid$common$Communication.call(this,a);this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT;this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication);module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(a,b){b=void 0===b?this.to:b;if(!b){throw Error("Message destination must be defined at construction time or when sending the message.");}b.handleExportedMessage(a.serialize(),this)};module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(a,b){module$exports$omid$common$InternalMessage.isValidSerializedMessage(a)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a),b)};module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$PostMessageCommunication=function(a,b){b=void 0===b?module$exports$omid$common$OmidGlobalProvider.omidGlobal:b;module$exports$omid$common$Communication.call(this,b);var c=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;a.addEventListener("message",function(d){if("object"===typeof d.data){var e=d.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&(e=module$exports$omid$common$InternalMessage.deserialize(e),d.source&&c.handleMessage(e,d.source))}})};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication);module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(a){return!!(a&&a.addEventListener&&a.postMessage)};module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(a,b){b=void 0===b?this.to:b;if(!b){throw Error("Message destination must be defined at construction time or when sending the message.");}b.postMessage(a.serialize(),"*")};module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return this.to?module$contents$omid$common$windowUtils_isCrossOrigin(this.to):!0};var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(a){var b={};return(b[module$exports$omid$common$constants.Environment.APP]=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,b[module$exports$omid$common$constants.Environment.WEB]=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,b)[a]}};function module$contents$omid$common$DetectOmid_isIframePresent(a,b){try{return a.frames&&!!a.frames[b]}catch(c){return!1}}module$exports$omid$common$DetectOmid.isOmidPresent=function(a){return[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,].some(function(b){return module$contents$omid$common$DetectOmid_isIframePresent(a,b)})};module$exports$omid$common$DetectOmid.getOmidEnvironment=function(a){for(var b=$jscomp.makeIterator(Object.values(module$exports$omid$common$constants.Environment)),c=b.next();!c.done;c=b.next()){c=c.value;var d=module$exports$omid$common$DetectOmid.getEnvironmentIframeName(c);if(module$contents$omid$common$DetectOmid_isIframePresent(a,d)){return c}}return null};function module$contents$omid$common$DetectOmid_writePresenceIframe_(a,b){a.document.write('<iframe style="display:none" id="'+(b+'" name="'+b+'" sandbox></iframe>'))}module$exports$omid$common$DetectOmid.declareOmidPresence=function(a,b){a.frames&&a.document&&![module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,].some(function(c){return!!a.frames[c]})&&(null==a.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a)?module$exports$omid$common$DetectOmid.registerMutationObserver_(a,b):(b=module$exports$omid$common$DetectOmid.getEnvironmentIframeName(b),a.document.body?(module$exports$omid$common$DetectOmid.appendPresenceIframe_(a,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$exports$omid$common$DetectOmid.appendPresenceIframe_(a,b)):(module$contents$omid$common$DetectOmid_writePresenceIframe_(a,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$contents$omid$common$DetectOmid_writePresenceIframe_(a,b))))};module$exports$omid$common$DetectOmid.appendPresenceIframe_=function(a,b){var c=a.document.createElement("iframe");c.id=b;c.name=b;c.style.display="none";c.sandbox="";a.document.body.appendChild(c)};module$exports$omid$common$DetectOmid.isMutationObserverAvailable_=function(a){return"MutationObserver"in a};module$exports$omid$common$DetectOmid.registerMutationObserver_=function(a,b){var c=new MutationObserver(function(d){d.forEach(function(e){"BODY"===e.addedNodes[0].nodeName&&(e=module$exports$omid$common$DetectOmid.getEnvironmentIframeName(b),module$exports$omid$common$DetectOmid.appendPresenceIframe_(a,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$exports$omid$common$DetectOmid.appendPresenceIframe_(a,e),c.disconnect())})});c.observe(a.document.documentElement,{childList:!0})};var module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(a,b){return b.reduce(function(c,d){return c&&c[d]},a)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(a,b,c,d){if(!module$contents$omid$common$windowUtils_isCrossOrigin(b)){try{var e=module$contents$omid$common$serviceCommunication_getValueForKeypath(b,c);if(e){return new module$exports$omid$common$DirectCommunication(e)}}catch(f){}}return d(b)?new module$exports$omid$common$PostMessageCommunication(a,b):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a,b,c,d){b=$jscomp.makeIterator(b);for(var e=b.next();!e.done;e=b.next()){if(e=module$contents$omid$common$serviceCommunication_startServiceCommunication(a,e.value,c,d)){return e}}return null}function module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(a,b,c){c=void 0===c?module$exports$omid$common$DetectOmid.isOmidPresent:c;var d=[a,module$contents$omid$common$windowUtils_resolveTopWindowContext(a)];b&&d.unshift(b);return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a,d,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,c)}function module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(a,b){b=void 0===b?module$exports$omid$common$DetectOmid.isOmidPresent:b;var c=[],d=module$contents$omid$common$serviceCommunication_getValueForKeypath(a,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);d&&c.push(d);c.push(module$contents$omid$common$windowUtils_resolveTopWindowContext(a));return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a,c,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,b)}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=module$contents$omid$common$serviceCommunication_startSessionServiceCommunication;module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication;var module$contents$omid$sessionClient$AdSession_SESSION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$exports$omid$sessionClient$AdSession=function(a,b,c){module$contents$omid$common$argsChecker_assertNotNullObject("AdSession.context",a);this.adSessionId_=module$contents$omid$common$guid_generateGuid();this.context_=a;this.impressionOccurred_=!1;var d=this.context_.serviceWindow||void 0;this.communication_=b||module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(module$contents$omid$common$windowUtils_resolveGlobalContext(),d);this.sessionInterface_=c||new module$exports$omid$sessionClient$OmidJsSessionInterface();this.isSessionRunning_=this.hasMediaEvents_=this.hasAdEvents_=!1;this.impressionType_=this.creativeType_=null;this.creativeLoaded_=!1;this.callbackMap_={};this.communication_&&(this.communication_.onMessage=this.handleInternalMessage_.bind(this));this.setClientInfo_();this.injectVerificationScripts_(a.verificationScriptResources);this.sendSlotElement_(a.slotElement);this.sendVideoElement_(a.videoElement);this.sendContentUrl_(a.contentUrl);this.watchSessionEvents_()};module$exports$omid$sessionClient$AdSession.prototype.getAdSessionId=function(){return this.adSessionId_};module$exports$omid$sessionClient$AdSession.prototype.setCreativeType=function(a){if(a===module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT){throw Error("Creative type cannot be redefined with value "+module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT);}if(this.impressionOccurred_){throw Error("Impression has already occurred");}if(this.creativeLoaded_){throw Error("Creative has already loaded");}if(this.creativeType_&&this.creativeType_!==module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT){throw Error("Creative type cannot be redefined");}if(void 0===this.creativeType_){throw Error("Native integration is using OMID 1.2 or earlier");}this.sendOneWayMessage("setCreativeType",a,this.adSessionId_);this.creativeType_=a};module$exports$omid$sessionClient$AdSession.prototype.setImpressionType=function(a){if(a===module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT){throw Error("Impression type cannot be redefined with value "+module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT);}if(this.impressionOccurred_){throw Error("Impression has already occurred");}if(this.creativeLoaded_){throw Error("Creative has already loaded");}if(this.impressionType_&&this.impressionType_!==module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT){throw Error("Impression type cannot be redefined");}if(void 0===this.impressionType_){throw Error("Native integration is using OMID 1.2 or earlier");}this.sendOneWayMessage("setImpressionType",a,this.adSessionId_);this.impressionType_=a};module$exports$omid$sessionClient$AdSession.prototype.isSupported=function(){return!!this.communication_||this.sessionInterface_.isSupported()};module$exports$omid$sessionClient$AdSession.prototype.isSendingElementsSupported_=function(){return this.communication_?this.communication_.isDirectCommunication():this.sessionInterface_.isSupported()};module$exports$omid$sessionClient$AdSession.prototype.registerSessionObserver=function(a){this.sendMessage("registerSessionObserver",a,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.start=function(){var a={customReferenceData:this.context_.customReferenceData,underEvaluation:this.context_.underEvaluation,};this.context_.universalAdId&&(a.universalAdId=this.context_.universalAdId.toSerialisedValue());this.sendOneWayMessage("startSession",a,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.finish=function(){this.sendOneWayMessage("finishSession",this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.error=function(a,b){this.sendOneWayMessage("sessionError",a,b,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.registerAdEvents=function(){if(this.hasAdEvents_){throw Error("AdEvents already registered.");}this.hasAdEvents_=!0;this.sendOneWayMessage("registerAdEvents",this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.registerMediaEvents=function(){if(this.hasMediaEvents_){throw Error("MediaEvents already registered.");}this.hasMediaEvents_=!0;this.sendOneWayMessage("registerMediaEvents",this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.sendOneWayMessage=function(a){var b=$jscomp.getRestArguments.apply(1,arguments);this.sendMessage.apply(this,[a,null].concat($jscomp.arrayFromIterable(b)))};module$exports$omid$sessionClient$AdSession.prototype.sendMessage=function(a,b){var c=$jscomp.getRestArguments.apply(2,arguments);this.communication_?this.sendInternalMessage_(a,b,c):this.sessionInterface_.isSupported()&&this.sendInterfaceMessage_(a,b,c)};module$exports$omid$sessionClient$AdSession.prototype.sendInternalMessage_=function(a,b,c){var d=module$contents$omid$common$guid_generateGuid();b&&(this.callbackMap_[d]=b);a=new module$exports$omid$common$InternalMessage(d,module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(a),module$exports$omid$common$version.Version,module$contents$omid$common$ArgsSerDe_serializeMessageArgs(module$exports$omid$common$version.Version,c));this.communication_.sendMessage(a)};module$exports$omid$sessionClient$AdSession.prototype.handleInternalMessage_=function(a,b){b=a.method;var c=a.guid;a=a.args;if("response"===b&&this.callbackMap_[c]){var d=module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(module$exports$omid$common$version.Version,a);this.callbackMap_[c].apply(this,d)}"error"===b&&window.console&&module$contents$omid$common$logger_error(a)};module$exports$omid$sessionClient$AdSession.prototype.sendInterfaceMessage_=function(a,b,c){try{this.sessionInterface_.sendMessage(a,b,c)}catch(d){module$contents$omid$common$logger_error("Failed to communicate with SessionInterface with error:"),module$contents$omid$common$logger_error(d)}};module$exports$omid$sessionClient$AdSession.prototype.assertSessionRunning=function(){if(!this.isSessionRunning_){throw Error("Session not started.");}};module$exports$omid$sessionClient$AdSession.prototype.impressionOccurred=function(){if(this.creativeType_===module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT){throw Error("Creative type has not been redefined");}if(this.impressionType_===module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT){throw Error("Impression type has not been redefined");}this.impressionOccurred_=!0};module$exports$omid$sessionClient$AdSession.prototype.creativeLoaded=function(){if(this.creativeType_===module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT){throw Error("Creative type has not been redefined");}if(this.impressionType_===module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT){throw Error("Impression type has not been redefined");}this.creativeLoaded_=!0};module$exports$omid$sessionClient$AdSession.prototype.setClientInfo_=function(){this.sendOneWayMessage("setClientInfo",module$exports$omid$common$version.Version,this.context_.partner.name,this.context_.partner.version,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.injectVerificationScripts_=function(a){a&&(a=a.map(function(b){return b.toJSON()}),this.sendOneWayMessage("injectVerificationScriptResources",a,this.adSessionId_))};module$exports$omid$sessionClient$AdSession.prototype.sendSlotElement_=function(a){this.sendElement_(a,"setSlotElement")};module$exports$omid$sessionClient$AdSession.prototype.sendVideoElement_=function(a){this.sendElement_(a,"setVideoElement")};module$exports$omid$sessionClient$AdSession.prototype.sendElement_=function(a,b){a&&(this.isSendingElementsSupported_()?this.sendOneWayMessage(b,a,this.adSessionId_):this.error(module$exports$omid$common$constants.ErrorType.GENERIC,"Session Client "+b+" called when communication is cross-origin"))};module$exports$omid$sessionClient$AdSession.prototype.sendContentUrl_=function(a){a&&this.sendOneWayMessage("setContentUrl",a,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.setElementBounds=function(a){module$contents$omid$common$argsChecker_assertNotNullObject("AdSession.elementBounds",a);this.sendOneWayMessage("setElementBounds",a,this.adSessionId_)};module$exports$omid$sessionClient$AdSession.prototype.watchSessionEvents_=function(){var a=this;this.registerSessionObserver(function(b){b.type===module$exports$omid$common$constants.AdEventType.SESSION_START&&(a.isSessionRunning_=!0,a.creativeType_=b.data.creativeType,a.impressionType_=b.data.impressionType);b.type===module$exports$omid$common$constants.AdEventType.SESSION_FINISH&&(a.isSessionRunning_=!1)})};module$contents$omid$common$exporter_packageExport("OmidSessionClient.AdSession",module$exports$omid$sessionClient$AdSession);var module$exports$omid$common$VastProperties=function(a,b,c,d){this.isSkippable=a;this.skipOffset=b;this.isAutoPlay=c;this.position=d};module$exports$omid$common$VastProperties.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position,}};var module$exports$omid$sessionClient$AdEvents=function(a){module$contents$omid$common$argsChecker_assertNotNullObject("AdEvents.adSession",a);this.adSessionId_=a.getAdSessionId();try{a.registerAdEvents(),this.adSession=a}catch(b){throw Error("AdSession already has an ad events instance registered");}};module$exports$omid$sessionClient$AdEvents.prototype.impressionOccurred=function(){this.adSession.assertSessionRunning();this.adSession.impressionOccurred();this.adSession.sendOneWayMessage("impressionOccurred",this.adSessionId_)};module$exports$omid$sessionClient$AdEvents.prototype.loaded=function(a){a=void 0===a?null:a;this.adSession.creativeLoaded();a=a?a.toJSON():null;this.adSession.sendOneWayMessage("loaded",a,this.adSessionId_)};module$contents$omid$common$exporter_packageExport("OmidSessionClient.AdEvents",module$exports$omid$sessionClient$AdEvents);function module$contents$omid$creatives$OmidCreativeSession_convertVerificationScriptResources_(a){return a.map(function(b){return new module$exports$omid$sessionClient$VerificationScriptResource(b.resourceUrl,b.vendorKey,b.verificationParameters)})}var module$exports$omid$creatives$OmidCreativeSession=function(a){var b=new module$exports$omid$sessionClient$Partner("[INSERT PARTNER NAME]","[INSERT PARTNER VERSION]");a=new module$exports$omid$sessionClient$Context(b,module$contents$omid$creatives$OmidCreativeSession_convertVerificationScriptResources_(a));this.adClient_=new module$exports$omid$sessionClient$AdSession(a);this.adEvents_=new module$exports$omid$sessionClient$AdEvents(this.adClient_);this.shouldCallImpressionOccurred_=this.sessionActive_=!1};module$exports$omid$creatives$OmidCreativeSession.main=function(a,b){a=new module$exports$omid$creatives$OmidCreativeSession(a);a.start();return a};module$exports$omid$creatives$OmidCreativeSession.prototype.start=function(){var a=this;this.adClient_.registerSessionObserver(function(b){return a.onSessionEvent_(b)})};module$exports$omid$creatives$OmidCreativeSession.prototype.onSessionEvent_=function(a){switch(a.type){case module$exports$omid$common$constants.AdEventType.SESSION_START:this.sessionActive_=!0;this.shouldCallImpressionOccurred_&&this.callImpressionOccurred_();break;case module$exports$omid$common$constants.AdEventType.SESSION_FINISH:this.sessionActive_=!1}};module$exports$omid$creatives$OmidCreativeSession.prototype.setCreativeType=function(a){this.adClient_.setCreativeType(a)};module$exports$omid$creatives$OmidCreativeSession.prototype.setImpressionType=function(a){this.adClient_.setImpressionType(a)};module$exports$omid$creatives$OmidCreativeSession.prototype.loaded=function(){this.adEvents_.loaded()};module$exports$omid$creatives$OmidCreativeSession.prototype.impressionOccurred=function(){this.sessionActive_?this.callImpressionOccurred_():this.shouldCallImpressionOccurred_=!0};module$exports$omid$creatives$OmidCreativeSession.prototype.callImpressionOccurred_=function(){this.adEvents_.impressionOccurred();this.shouldCallImpressionOccurred_=!1};var module$exports$omid$creatives$OmidCreativeSessionMain={},module$contents$omid$creatives$OmidCreativeSessionMain_omidSession=module$exports$omid$creatives$OmidCreativeSession.main([{resourceUrl:"[INSERT RESOURCE URL]",vendorKey:"[INSERT VENDOR KEY]",verificationParameters:"[INSERT VERIFICATION PARAMETERS]"},{resourceUrl:"https://s3-us-west-2.amazonaws.com/omsdk-files/js/verification-measurement-script.js",vendorKey:null,verificationParameters:null}]);module$contents$omid$creatives$OmidCreativeSessionMain_omidSession.setCreativeType("htmlDisplay");module$contents$omid$creatives$OmidCreativeSessionMain_omidSession.setImpressionType("loaded");module$contents$omid$creatives$OmidCreativeSessionMain_omidSession.loaded();module$contents$omid$creatives$OmidCreativeSessionMain_omidSession.impressionOccurred()},typeof exports==='undefined'?undefined:exports));
